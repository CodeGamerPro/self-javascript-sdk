<!doctype html>
<html>
	<head>
		<title>Sample WebSocket connection to Intu</title> 
		<script src="../js/Map.js" type="text/javascript"></script>
		<script src="../js/TopicClient.js" type="text/javascript"></script>
		<script src="../js/Thing.js" type="text/javascript"></script>
		<script src="../js/Blackboard.js" type="text/javascript"></script>
		<script src="../js/SensorManager.js" type="text/javascript"></script>		
		<script src="../js/KeyboardSensor.js" type="text/javascript"></script>		
		<script src="../js/GestureManager.js" type="text/javascript"></script>
		<script src="../js/SpeechGesture.js" type="text/javascript"></script>
		<script src="../js/AgentSociety.js" type="text/javascript"></script>
		<script src="../js/ExampleAgent.js" type="text/javascript"></script>
	</head>
	<body>
		<div>
			<form action="" onSubmit="">
				<h1>Self JavaScript SDK</h1>
				<fieldset>
					<legend>Intu Client</legend>
					<label for="question">Question:</label>
					<input id="question" type="text">
					<input type="submit" value="Ask">
				</fieldset>
			</form>
		</div>
	<script data-main="../js/Main" type="text/javascript" src="../js/require.js" async="true"></script>
	<script type="text/javascript">
		var sensorMap = new Map;
		var sensorOverrideMap = new Map;
		var blackboardMap = new Map;
		var subscriptionMap = new Map;
		var agentMap = new Map;
		var agentOverrideMap = new Map;
		var thingMap = new Map;

		var isConnected = false;

		var sampleCallback = function() { return true; };

		var gestureMap = new Map;
		var gestureOverrideMap = new Map;
		var topicClient = TopicClient.getInstance();
		var gestureManager = GestureManager.getInstance();
		var agentSociety = AgentSociety.getInstance();
		var sensorManager = SensorManager.getInstance();
		var speechGesture = new SpeechGesture("tts", GUID());
		var exampleAgent = new ExampleAgent("ExampleAgent", GUID());
		var keyboard = new KeyboardSensor();
		agentSociety.start();
		agentSociety.addAgent(exampleAgent, false);
		gestureManager.start();
		gestureManager.addGesture(speechGesture, true);		
		sensorManager.addSensor(keyboard, true);
		sensorManager.getSensors();
	</script>
	</body>
</html>
