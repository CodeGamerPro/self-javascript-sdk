!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.WatsonSpeech=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";c.version="v0.23.0",c.SpeechToText=a("./speech-to-text"),c.TextToSpeech=a("./text-to-speech")},{"./speech-to-text":52,"./text-to-speech":62}],2:[function(a,b,c){"use strict";function j(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function k(a){return 3*a.length/4-j(a)}function l(a){var b,c,d,g,h,i,k=a.length;h=j(a),i=new f(3*k/4-h),d=h>0?k-4:k;var l=0;for(b=0,c=0;b<d;b+=4,c+=3)g=e[a.charCodeAt(b)]<<18|e[a.charCodeAt(b+1)]<<12|e[a.charCodeAt(b+2)]<<6|e[a.charCodeAt(b+3)],i[l++]=g>>16&255,i[l++]=g>>8&255,i[l++]=255&g;return 2===h?(g=e[a.charCodeAt(b)]<<2|e[a.charCodeAt(b+1)]>>4,i[l++]=255&g):1===h&&(g=e[a.charCodeAt(b)]<<10|e[a.charCodeAt(b+1)]<<4|e[a.charCodeAt(b+2)]>>2,i[l++]=g>>8&255,i[l++]=255&g),i}function m(a){return d[a>>18&63]+d[a>>12&63]+d[a>>6&63]+d[63&a]}function n(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16)+(a[f+1]<<8)+a[f+2],e.push(m(d));return e.join("")}function o(a){for(var b,c=a.length,e=c%3,f="",g=[],h=16383,i=0,j=c-e;i<j;i+=h)g.push(n(a,i,i+h>j?j:i+h));return 1===e?(b=a[c-1],f+=d[b>>2],f+=d[b<<4&63],f+="=="):2===e&&(b=(a[c-2]<<8)+a[c-1],f+=d[b>>10],f+=d[b>>4&63],f+=d[b<<2&63],f+="="),g.push(f),g.join("")}c.byteLength=k,c.toByteArray=l,c.fromByteArray=o;for(var d=[],e=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,i=g.length;h<i;++h)d[h]=g[h],e[g.charCodeAt(h)]=h;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},{}],3:[function(a,b,c){},{}],4:[function(a,b,c){(function(b){"use strict";var d=a("buffer"),e=d.Buffer,f=d.SlowBuffer,g=d.kMaxLength||2147483647;c.alloc=function(b,c,d){if("function"==typeof e.alloc)return e.alloc(b,c,d);if("number"==typeof d)throw new TypeError("encoding must not be number");if("number"!=typeof b)throw new TypeError("size must be a number");if(b>g)throw new RangeError("size is too large");var f=d,h=c;void 0===h&&(f=void 0,h=0);var i=new e(b);if("string"==typeof h)for(var j=new e(h,f),k=j.length,l=-1;++l<b;)i[l]=j[l%k];else i.fill(h);return i},c.allocUnsafe=function(b){if("function"==typeof e.allocUnsafe)return e.allocUnsafe(b);if("number"!=typeof b)throw new TypeError("size must be a number");if(b>g)throw new RangeError("size is too large");return new e(b)},c.from=function(c,d,f){if("function"==typeof e.from&&(!b.Uint8Array||Uint8Array.from!==e.from))return e.from(c,d,f);if("number"==typeof c)throw new TypeError('"value" argument must not be a number');if("string"==typeof c)return new e(c,d);if("undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer){var g=d;if(1===arguments.length)return new e(c);"undefined"==typeof g&&(g=0);var h=f;if("undefined"==typeof h&&(h=c.byteLength-g),g>=c.byteLength)throw new RangeError("'offset' is out of bounds");if(h>c.byteLength-g)throw new RangeError("'length' is out of bounds");return new e(c.slice(g,g+h))}if(e.isBuffer(c)){var i=new e(c.length);return c.copy(i,0,0,c.length),i}if(c){if(Array.isArray(c)||"undefined"!=typeof ArrayBuffer&&c.buffer instanceof ArrayBuffer||"length"in c)return new e(c);if("Buffer"===c.type&&Array.isArray(c.data))return new e(c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},c.allocUnsafeSlow=function(b){if("function"==typeof e.allocUnsafeSlow)return e.allocUnsafeSlow(b);if("number"!=typeof b)throw new TypeError("size must be a number");if(b>=g)throw new RangeError("size is too large");return new f(b)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:5}],5:[function(a,b,c){(function(b){"use strict";function g(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}function h(){return j.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(a,b){if(h()<b)throw new RangeError("Invalid typed array length");return j.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=j.prototype):(null===a&&(a=new j(b)),a.length=b),a}function j(a,b,c){if(!(j.TYPED_ARRAY_SUPPORT||this instanceof j))return new j(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return n(this,a)}return k(this,a,b,c)}function k(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?q(a,b,c,d):"string"==typeof b?o(a,b,c):r(a,b)}function l(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function m(a,b,c,d){return l(b),b<=0?i(a,b):void 0!==c?"string"==typeof d?i(a,b).fill(c,d):i(a,b).fill(c):i(a,b)}function n(a,b){if(l(b),a=i(a,b<0?0:0|s(b)),!j.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function o(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!j.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|u(b,c);a=i(a,d);var e=a.write(b,c);return e!==d&&(a=a.slice(0,e)),a}function p(a,b){var c=b.length<0?0:0|s(b.length);a=i(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function q(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),j.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=j.prototype):a=p(a,b),a}function r(a,b){if(j.isBuffer(b)){var c=0|s(b.length);return a=i(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||ba(b.length)?i(a,0):p(a,b);if("Buffer"===b.type&&f(b.data))return p(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function s(a){if(a>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|a}function t(a){return+a!=a&&(a=0),j.alloc(+a)}function u(a,b){if(j.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return Y(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return _(a).length;default:if(d)return Y(a).length;b=(""+b).toLowerCase(),d=!0}}function v(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return L(this,b,c);case"utf8":case"utf-8":return G(this,b,c);case"ascii":return J(this,b,c);case"latin1":case"binary":return K(this,b,c);case"base64":return F(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function w(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function x(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=j.from(b,d)),j.isBuffer(b))return 0===b.length?-1:y(a,b,c,d,e);if("number"==typeof b)return b&=255,j.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):y(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function y(a,b,c,d,e){function i(a,b){return 1===f?a[b]:a.readUInt16BE(b*f)}var f=1,g=a.length,h=b.length;if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;f=2,g/=2,h/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<g;j++)if(i(a,j)===i(b,k===-1?0:j-k)){if(k===-1&&(k=j),j-k+1===h)return k*f}else k!==-1&&(j-=j-k),k=-1}else for(c+h>g&&(c=g-h),j=c;j>=0;j--){for(var l=!0,m=0;m<h;m++)if(i(a,j+m)!==i(b,m)){l=!1;break}if(l)return j}return-1}function z(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function A(a,b,c,d){return aa(Y(b,a.length-c),a,c,d)}function B(a,b,c,d){return aa(Z(b),a,c,d)}function C(a,b,c,d){return B(a,b,c,d)}function D(a,b,c,d){return aa(_(b),a,c,d)}function E(a,b,c,d){return aa($(b,a.length-c),a,c,d)}function F(a,b,c){return 0===b&&c===a.length?d.fromByteArray(a):d.fromByteArray(a.slice(b,c))}function G(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return I(d)}function I(a){var b=a.length;if(b<=H)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=H));return c}function J(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function K(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function L(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=X(a[f]);return e}function M(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function N(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function O(a,b,c,d,e,f){if(!j.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function P(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function Q(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function R(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function S(a,b,c,d,f){return f||R(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(a,b,c,d,23,4),c+4}function T(a,b,c,d,f){return f||R(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(a,b,c,d,52,8),c+8}function V(a){if(a=W(a).replace(U,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function W(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function X(a){return a<16?"0"+a.toString(16):a.toString(16)}function Y(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function Z(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function $(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function _(a){return d.toByteArray(V(a))}function aa(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function ba(a){return a!==a}var d=a("base64-js"),e=a("ieee754"),f=a("isarray");c.Buffer=j,c.SlowBuffer=t,c.INSPECT_MAX_BYTES=50,j.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:g(),c.kMaxLength=h(),j.poolSize=8192,j._augment=function(a){return a.__proto__=j.prototype,a},j.from=function(a,b,c){return k(null,a,b,c)},j.TYPED_ARRAY_SUPPORT&&(j.prototype.__proto__=Uint8Array.prototype,j.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&j[Symbol.species]===j&&Object.defineProperty(j,Symbol.species,{value:null,configurable:!0})),j.alloc=function(a,b,c){return m(null,a,b,c)},j.allocUnsafe=function(a){return n(null,a)},j.allocUnsafeSlow=function(a){return n(null,a)},j.isBuffer=function(b){return!(null==b||!b._isBuffer)},j.compare=function(b,c){if(!j.isBuffer(b)||!j.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(b===c)return 0;for(var d=b.length,e=c.length,f=0,g=Math.min(d,e);f<g;++f)if(b[f]!==c[f]){d=b[f],e=c[f];break}return d<e?-1:e<d?1:0},j.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.concat=function(b,c){if(!f(b))throw new TypeError('"list" argument must be an Array of Buffers');if(0===b.length)return j.alloc(0);var d;if(void 0===c)for(c=0,d=0;d<b.length;++d)c+=b[d].length;var e=j.allocUnsafe(c),g=0;for(d=0;d<b.length;++d){var h=b[d];if(!j.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(e,g),g+=h.length}return e},j.byteLength=u,j.prototype._isBuffer=!0,j.prototype.swap16=function(){var b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<b;c+=2)w(this,c,c+1);return this},j.prototype.swap32=function(){var b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<b;c+=4)w(this,c,c+3),w(this,c+1,c+2);return this},j.prototype.swap64=function(){var b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<b;c+=8)w(this,c,c+7),w(this,c+1,c+6),w(this,c+2,c+5),w(this,c+3,c+4);return this},j.prototype.toString=function(){var b=0|this.length;return 0===b?"":0===arguments.length?G(this,0,b):v.apply(this,arguments)},j.prototype.equals=function(b){if(!j.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===j.compare(this,b)},j.prototype.inspect=function(){var b="",d=c.INSPECT_MAX_BYTES;return this.length>0&&(b=this.toString("hex",0,d).match(/.{2}/g).join(" "),this.length>d&&(b+=" ... ")),"<Buffer "+b+">"},j.prototype.compare=function(b,c,d,e,f){if(!j.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(void 0===c&&(c=0),void 0===d&&(d=b?b.length:0),void 0===e&&(e=0),void 0===f&&(f=this.length),c<0||d>b.length||e<0||f>this.length)throw new RangeError("out of range index");if(e>=f&&c>=d)return 0;if(e>=f)return-1;if(c>=d)return 1;if(c>>>=0,d>>>=0,e>>>=0,f>>>=0,this===b)return 0;for(var g=f-e,h=d-c,i=Math.min(g,h),k=this.slice(e,f),l=b.slice(c,d),m=0;m<i;++m)if(k[m]!==l[m]){g=k[m],h=l[m];break}return g<h?-1:h<g?1:0},j.prototype.includes=function(b,c,d){return this.indexOf(b,c,d)!==-1},j.prototype.indexOf=function(b,c,d){return x(this,b,c,d,!0)},j.prototype.lastIndexOf=function(b,c,d){return x(this,b,c,d,!1)},j.prototype.write=function(b,c,d,e){if(void 0===c)e="utf8",d=this.length,c=0;else if(void 0===d&&"string"==typeof c)e=c,d=this.length,c=0;else{if(!isFinite(c))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");c|=0,isFinite(d)?(d|=0,void 0===e&&(e="utf8")):(e=d,d=void 0)}var f=this.length-c;if((void 0===d||d>f)&&(d=f),b.length>0&&(d<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var g=!1;;)switch(e){case"hex":return z(this,b,c,d);case"utf8":case"utf-8":return A(this,b,c,d);case"ascii":return B(this,b,c,d);case"latin1":case"binary":return C(this,b,c,d);case"base64":return D(this,b,c,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,b,c,d);default:if(g)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),g=!0}},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;j.prototype.slice=function(b,c){var d=this.length;b=~~b,c=void 0===c?d:~~c,b<0?(b+=d,b<0&&(b=0)):b>d&&(b=d),c<0?(c+=d,c<0&&(c=0)):c>d&&(c=d),c<b&&(c=b);var e;if(j.TYPED_ARRAY_SUPPORT)e=this.subarray(b,c),e.__proto__=j.prototype;else{var f=c-b;e=new j(f,void 0);for(var g=0;g<f;++g)e[g]=this[g+b]}return e},j.prototype.readUIntLE=function(b,c,d){b|=0,c|=0,d||N(b,c,this.length);for(var e=this[b],f=1,g=0;++g<c&&(f*=256);)e+=this[b+g]*f;return e},j.prototype.readUIntBE=function(b,c,d){b|=0,c|=0,d||N(b,c,this.length);for(var e=this[b+--c],f=1;c>0&&(f*=256);)e+=this[b+--c]*f;return e},j.prototype.readUInt8=function(b,c){return c||N(b,1,this.length),this[b]},j.prototype.readUInt16LE=function(b,c){return c||N(b,2,this.length),this[b]|this[b+1]<<8},j.prototype.readUInt16BE=function(b,c){return c||N(b,2,this.length),this[b]<<8|this[b+1]},j.prototype.readUInt32LE=function(b,c){return c||N(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]},j.prototype.readUInt32BE=function(b,c){return c||N(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])},j.prototype.readIntLE=function(b,c,d){b|=0,c|=0,d||N(b,c,this.length);for(var e=this[b],f=1,g=0;++g<c&&(f*=256);)e+=this[b+g]*f;return f*=128,e>=f&&(e-=Math.pow(2,8*c)),e},j.prototype.readIntBE=function(b,c,d){b|=0,c|=0,d||N(b,c,this.length);for(var e=c,f=1,g=this[b+--e];e>0&&(f*=256);)g+=this[b+--e]*f;return f*=128,g>=f&&(g-=Math.pow(2,8*c)),g},j.prototype.readInt8=function(b,c){return c||N(b,1,this.length),128&this[b]?(255-this[b]+1)*-1:this[b]},j.prototype.readInt16LE=function(b,c){c||N(b,2,this.length);var d=this[b]|this[b+1]<<8;return 32768&d?4294901760|d:d},j.prototype.readInt16BE=function(b,c){c||N(b,2,this.length);var d=this[b+1]|this[b]<<8;return 32768&d?4294901760|d:d},j.prototype.readInt32LE=function(b,c){return c||N(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},j.prototype.readInt32BE=function(b,c){return c||N(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},j.prototype.readFloatLE=function(b,c){return c||N(b,4,this.length),e.read(this,b,!0,23,4)},j.prototype.readFloatBE=function(b,c){return c||N(b,4,this.length),e.read(this,b,!1,23,4)},j.prototype.readDoubleLE=function(b,c){return c||N(b,8,this.length),e.read(this,b,!0,52,8)},j.prototype.readDoubleBE=function(b,c){return c||N(b,8,this.length),e.read(this,b,!1,52,8)},j.prototype.writeUIntLE=function(b,c,d,e){if(b=+b,c|=0,d|=0,!e){var f=Math.pow(2,8*d)-1;O(this,b,c,d,f,0)}var g=1,h=0;for(this[c]=255&b;++h<d&&(g*=256);)this[c+h]=b/g&255;return c+d},j.prototype.writeUIntBE=function(b,c,d,e){if(b=+b,c|=0,d|=0,!e){var f=Math.pow(2,8*d)-1;O(this,b,c,d,f,0)}var g=d-1,h=1;for(this[c+g]=255&b;--g>=0&&(h*=256);)this[c+g]=b/h&255;return c+d},j.prototype.writeUInt8=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,1,255,0),j.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),this[c]=255&b,c+1},j.prototype.writeUInt16LE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,2,65535,0),j.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8):P(this,b,c,!0),c+2},j.prototype.writeUInt16BE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,2,65535,0),j.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=255&b):P(this,b,c,!1),c+2},j.prototype.writeUInt32LE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,4,4294967295,0),j.TYPED_ARRAY_SUPPORT?(this[c+3]=b>>>24,this[c+2]=b>>>16,this[c+1]=b>>>8,this[c]=255&b):Q(this,b,c,!0),c+4},j.prototype.writeUInt32BE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,4,4294967295,0),j.TYPED_ARRAY_SUPPORT?(this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b):Q(this,b,c,!1),c+4},j.prototype.writeIntLE=function(b,c,d,e){if(b=+b,c|=0,!e){var f=Math.pow(2,8*d-1);O(this,b,c,d,f-1,-f)}var g=0,h=1,i=0;for(this[c]=255&b;++g<d&&(h*=256);)b<0&&0===i&&0!==this[c+g-1]&&(i=1),this[c+g]=(b/h>>0)-i&255;return c+d},j.prototype.writeIntBE=function(b,c,d,e){if(b=+b,c|=0,!e){var f=Math.pow(2,8*d-1);O(this,b,c,d,f-1,-f)}var g=d-1,h=1,i=0;for(this[c+g]=255&b;--g>=0&&(h*=256);)b<0&&0===i&&0!==this[c+g+1]&&(i=1),this[c+g]=(b/h>>0)-i&255;return c+d},j.prototype.writeInt8=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,1,127,-128),j.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),b<0&&(b=255+b+1),this[c]=255&b,c+1},j.prototype.writeInt16LE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,2,32767,-32768),j.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8):P(this,b,c,!0),c+2},j.prototype.writeInt16BE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,2,32767,-32768),j.TYPED_ARRAY_SUPPORT?(this[c]=b>>>8,this[c+1]=255&b):P(this,b,c,!1),c+2},j.prototype.writeInt32LE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,4,2147483647,-2147483648),j.TYPED_ARRAY_SUPPORT?(this[c]=255&b,this[c+1]=b>>>8,this[c+2]=b>>>16,this[c+3]=b>>>24):Q(this,b,c,!0),c+4},j.prototype.writeInt32BE=function(b,c,d){return b=+b,c|=0,d||O(this,b,c,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),j.TYPED_ARRAY_SUPPORT?(this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b):Q(this,b,c,!1),c+4},j.prototype.writeFloatLE=function(b,c,d){return S(this,b,c,!0,d)},j.prototype.writeFloatBE=function(b,c,d){return S(this,b,c,!1,d)},j.prototype.writeDoubleLE=function(b,c,d){return T(this,b,c,!0,d)},j.prototype.writeDoubleBE=function(b,c,d){return T(this,b,c,!1,d)},j.prototype.copy=function(b,c,d,e){if(d||(d=0),e||0===e||(e=this.length),c>=b.length&&(c=b.length),c||(c=0),e>0&&e<d&&(e=d),e===d)return 0;if(0===b.length||0===this.length)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),b.length-c<e-d&&(e=b.length-c+d);var g,f=e-d;if(this===b&&d<c&&c<e)for(g=f-1;g>=0;--g)b[g+c]=this[g+d];else if(f<1e3||!j.TYPED_ARRAY_SUPPORT)for(g=0;g<f;++g)b[g+c]=this[g+d];else Uint8Array.prototype.set.call(b,this.subarray(d,d+f),c);return f},j.prototype.fill=function(b,c,d,e){if("string"==typeof b){if("string"==typeof c?(e=c,c=0,d=this.length):"string"==typeof d&&(e=d,d=this.length),1===b.length){var f=b.charCodeAt(0);f<256&&(b=f)}if(void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!j.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else"number"==typeof b&&(b&=255);if(c<0||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;c>>>=0,d=void 0===d?this.length:d>>>0,b||(b=0);var g;if("number"==typeof b)for(g=c;g<d;++g)this[g]=b;else{var h=j.isBuffer(b)?b:Y(new j(b,e).toString()),i=h.length;for(g=0;g<d-c;++g)this[g+c]=h[g%i]}return this};var U=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:13,isarray:16}],6:[function(a,b,c){(function(a){var c=function(){"use strict";function b(c,d,e,f){function l(c,e){if(null===c)return null;if(0==e)return c;var h,m;if("object"!=typeof c)return c;if(b.__isArray(c))h=[];else if(b.__isRegExp(c))h=new RegExp(c.source,g(c)),c.lastIndex&&(h.lastIndex=c.lastIndex);else if(b.__isDate(c))h=new Date(c.getTime());else{if(k&&a.isBuffer(c))return h=new a(c.length),c.copy(h),h;"undefined"==typeof f?(m=Object.getPrototypeOf(c),h=Object.create(m)):(h=Object.create(f),m=f)}if(d){var n=i.indexOf(c);if(n!=-1)return j[n];i.push(c),j.push(h)}for(var o in c){var p;m&&(p=Object.getOwnPropertyDescriptor(m,o)),p&&null==p.set||(h[o]=l(c[o],e-1))}return h}var h;"object"==typeof d&&(e=d.depth,f=d.prototype,h=d.filter,d=d.circular);var i=[],j=[],k="undefined"!=typeof a;return"undefined"==typeof d&&(d=!0),"undefined"==typeof e&&(e=1/0),l(c,e)}function c(a){return Object.prototype.toString.call(a)}function d(a){return"object"==typeof a&&"[object Date]"===c(a)}function e(a){return"object"==typeof a&&"[object Array]"===c(a)}function f(a){return"object"==typeof a&&"[object RegExp]"===c(a)}function g(a){var b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),b}return b.clonePrototype=function(b){if(null===b)return null;var c=function(){};return c.prototype=b,new c},b.__objToStr=c,b.__isDate=d,b.__isArray=e,b.__isRegExp=f,b.__getRegExpFlags=g,b}();"object"==typeof b&&b.exports&&(b.exports=c)}).call(this,a("buffer").Buffer)},{buffer:5}],7:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":15}],8:[function(a,b,c){var d=a("clone");b.exports=function(a,b){return a=a||{},Object.keys(b).forEach(function(c){"undefined"==typeof a[c]&&(a[c]=d(b[c]))}),a}},{clone:6}],9:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function d(){this.removeListener(a,d),c||(c=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var c=!1;return d.listener=b,this.on(a,d),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],10:[function(a,b,c){var d="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,f=Object.prototype.toString,g="[object Function]";b.exports=function(b){var c=this;if("function"!=typeof c||f.call(c)!==g)throw new TypeError(d+c);for(var i,h=e.call(arguments,1),j=function(){if(this instanceof i){var a=c.apply(this,h.concat(e.call(arguments)));return Object(a)===a?a:this}return c.apply(b,h.concat(e.call(arguments)))},k=Math.max(0,c.length-h.length),l=[],m=0;m<k;m++)l.push("$"+m);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(j),c.prototype){var n=function(){};n.prototype=c.prototype,i.prototype=new n,n.prototype=null}return i}},{}],11:[function(a,b,c){var d=a("./implementation");b.exports=Function.prototype.bind||d},{"./implementation":10}],12:[function(b,c,d){!function(b){"use strict";function d(){this.name="NotSupportedError",this.message="getUserMedia is not implemented in this browser"}function e(){this.then=function(){return this};var a=new d;this.catch=function(b){setTimeout(function(){b(a)})}}function f(a){return"undefined"==typeof Promise?new e:navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(a):new Promise(function(b,c){
var e=navigator&&navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e?void e.call(navigator,a,b,c):c(new d)})}d.prototype=Error.prototype,f.NotSupportedError=d,"function"==typeof a&&a.amd?a([],function(){return f}):"object"==typeof c&&c.exports?c.exports=f:(b.nagivator.mediaDevices=b.navigator.mediaDevices||{},b.nagivator.mediaDevices.getUserMedia=b.nagivator.mediaDevices.getUserMedia||f)}(this)},{}],13:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],14:[function(a,b,c){"function"==typeof Object.create?b.exports=function(b,c){b.super_=c,b.prototype=Object.create(c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(b,c){b.super_=c;var d=function(){};d.prototype=c.prototype,b.prototype=new d,b.prototype.constructor=b}},{}],15:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],16:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],17:[function(a,b,c){"use strict";var d=a("isarray");b.exports=function(b){return null!=b&&"object"==typeof b&&d(b)===!1}},{isarray:16}],18:[function(a,b,c){(function(c,d){"use strict";function g(a,b){function k(a){j&&i.push(b.objectMode?a.inputBuffer:new d(a.inputBuffer.getChannelData(0)))}var f="undefined"==typeof window.AudioContext?4096:null;b=b||{},f=b.bufferSize||f;var g=1,h=1;e.call(this,b);var i=this,j=!0,l=window.AudioContext||window.webkitAudioContext,m=new l,n=m.createMediaStreamSource(a),o=m.createScriptProcessor(f,g,h);o.onaudioprocess=k,n.connect(o),o.connect(m.destination),this.stop=function(){if("closed"!==m.state){try{a.getTracks()[0].stop()}catch(a){}o.disconnect(),n.disconnect();try{m.close()}catch(a){}j=!1,i.push(null),i.emit("close")}},c.nextTick(function(){i.emit("format",{channels:1,bitDepth:32,sampleRate:m.sampleRate,signed:!0,float:!0})})}var e=a("stream").Readable,f=a("util");f.inherits(g,e),g.prototype._read=function(){},g.toRaw=function(b){return new Float32Array(b.buffer)},b.exports=g}).call(this,a("_process"),a("buffer").Buffer)},{_process:26,buffer:5,stream:39,util:44}],19:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=Array.prototype.slice,g=a("./isArguments"),h=Object.prototype.propertyIsEnumerable,i=!h.call({toString:null},"toString"),j=h.call(function(){},"prototype"),k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(a){var b=a.constructor;return b&&b.prototype===a},m={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!m["$"+a]&&d.call(window,a)&&null!==window[a]&&"object"==typeof window[a])try{l(window[a])}catch(a){return!0}}catch(a){return!0}return!1}(),o=function(a){if("undefined"==typeof window||!n)return l(a);try{return l(a)}catch(a){return!1}},p=function(b){var c=null!==b&&"object"==typeof b,f="[object Function]"===e.call(b),h=g(b),l=c&&"[object String]"===e.call(b),m=[];if(!c&&!f&&!h)throw new TypeError("Object.keys called on a non-object");var n=j&&f;if(l&&b.length>0&&!d.call(b,0))for(var p=0;p<b.length;++p)m.push(String(p));if(h&&b.length>0)for(var q=0;q<b.length;++q)m.push(String(q));else for(var r in b)n&&"prototype"===r||!d.call(b,r)||m.push(String(r));if(i)for(var s=o(b),t=0;t<k.length;++t)s&&"constructor"===k[t]||!d.call(b,k[t])||m.push(k[t]);return m};p.shim=function(){if(Object.keys){var b=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!b){var c=Object.keys;Object.keys=function(b){return c(g(b)?f.call(b):b)}}}else Object.keys=p;return Object.keys||p},b.exports=p},{"./isArguments":20}],20:[function(a,b,c){"use strict";var d=Object.prototype.toString;b.exports=function(b){var c=d.call(b),e="[object Arguments]"===c;return e||(e="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&"[object Function]"===d.call(b.callee)),e}},{}],21:[function(a,b,c){"use strict";var d=a("object-keys");b.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var b={},c=Symbol("test"),e=Object(c);if("string"==typeof c)return!1;if("[object Symbol]"!==Object.prototype.toString.call(c))return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;var f=42;b[c]=f;for(c in b)return!1;if(0!==d(b).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(b).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;var g=Object.getOwnPropertySymbols(b);if(1!==g.length||g[0]!==c)return!1;if(!Object.prototype.propertyIsEnumerable.call(b,c))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var h=Object.getOwnPropertyDescriptor(b,c);if(h.value!==f||h.enumerable!==!0)return!1}return!0}},{"object-keys":19}],22:[function(a,b,c){"use strict";var d=a("object-keys"),e=a("function-bind"),f=function(a){return"undefined"!=typeof a&&null!==a},g=a("./hasSymbols")(),h=Object,i=e.call(Function.call,Array.prototype.push),j=e.call(Function.call,Object.prototype.propertyIsEnumerable),k=g?Object.getOwnPropertySymbols:null;b.exports=function(b,c){if(!f(b))throw new TypeError("target must be an object");var l,m,n,o,p,q,r,e=h(b);for(l=1;l<arguments.length;++l){m=h(arguments[l]),o=d(m);var s=g&&(Object.getOwnPropertySymbols||k);if(s)for(p=s(m),n=0;n<p.length;++n)r=p[n],j(m,r)&&i(o,r);for(n=0;n<o.length;++n)r=o[n],q=m[r],j(m,r)&&(e[r]=q)}return e}},{"./hasSymbols":21,"function-bind":11,"object-keys":19}],23:[function(a,b,c){"use strict";var d=a("./implementation"),e=function(){if(!Object.assign)return!1;for(var a="abcdefghijklmnopqrst",b=a.split(""),c={},d=0;d<b.length;++d)c[b[d]]=b[d];var e=Object.assign({},c),f="";for(var g in e)f+=g;return a!==f},f=function(){if(!Object.assign||!Object.preventExtensions)return!1;var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch(b){return"y"===a[1]}return!1};b.exports=function(){return Object.assign?e()?d:f()?d:Object.assign:d}},{"./implementation":22}],24:[function(a,b,c){"use strict";var d=a("isobject");b.exports=function(b,c){if(!d(b)&&"function"!=typeof b)return{};var e={};if("string"==typeof c)return c in b&&(e[c]=b[c]),e;for(var f=c.length,g=-1;++g<f;){var h=c[g];h in b&&(e[h]=b[h])}return e}},{isobject:17}],25:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var g,h,f=arguments.length;switch(f){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(g=new Array(f-1),h=0;h<g.length;)g[h++]=arguments[h];return a.nextTick(function(){b.apply(null,g)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:26}],26:[function(a,b,c){function g(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function i(a){if(e===setTimeout)return setTimeout(a,0);if((e===g||!e)&&setTimeout)return e=setTimeout,setTimeout(a,0);try{return e(a,0)}catch(b){try{return e.call(null,a,0)}catch(b){return e.call(this,a,0)}}}function j(a){if(f===clearTimeout)return clearTimeout(a);if((f===h||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(a);try{return f(a)}catch(b){try{return f.call(null,a)}catch(b){return f.call(this,a)}}}function o(){l&&m&&(l=!1,m.length?k=m.concat(k):n=-1,k.length&&p())}function p(){if(!l){var a=i(o);l=!0;for(var b=k.length;b;){for(m=k,k=[];++n<b;)m&&m[n].run();n=-1,b=k.length}m=null,l=!1,j(a)}}function q(a,b){this.fun=a,this.array=b}function r(){}var e,f,d=b.exports={};!function(){try{e="function"==typeof setTimeout?setTimeout:g}catch(a){e=g}try{f="function"==typeof clearTimeout?clearTimeout:h}catch(a){f=h}}();var m,k=[],l=!1,n=-1;d.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];k.push(new q(a,b)),1!==k.length||l||i(p)},q.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=r,d.addListener=r,d.once=r,d.off=r,d.removeListener=r,d.removeAllListeners=r,d.emit=r,d.binding=function(a){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(a){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],27:[function(a,b,c){(function(c,d){"use strict";function i(a,b){if(!(this instanceof i))return new i(a,b);if(b=b||{},b.objectMode=!1,e.call(this,b),!a)throw Error('Missing argument "blob"');if("function"!=typeof a.slice)throw Error('Given argument "blob" is not really a Blob/File or your environment does not support .slice()');if(!g)throw Error("Your environment does not support FileReader");if(!h)throw Error("Your environment does not support Uint8Array");this.totalSize=a.size,this._blob=a,this._nextByteStart=0}function j(a){if("function"==typeof d._augment){if(a=d._augment(a),!(a instanceof h))throw Error("Assertion error, buf should be an Uint8Array")}else a=new d(a);return a}function k(a){if(a=new h(a),"function"==typeof d._augment&&(a=d._augment(a)),!(a instanceof h))throw Error("Assertion error, buf should be an Uint8Array");return a}var e=a("stream").Readable,f=a("inherits"),g=c.FileReader,h=c.Uint8Array;b.exports=i,f(i,e),i.prototype.read=function(){var a=i.super_.prototype.read.apply(this,arguments);return!d.isBuffer(a)||a instanceof h||(a=k(a)),a},i.prototype._read=function(a){var c,d,b=this._blob.size;if(c=this._nextByteStart,d=Math.min(c+a,b),this._nextByteStart=d,c>=this._blob.size)return void this.push(null);var e=this._blob.slice(c,d),f=new g;f.onload=function(){var a=new h(f.result);a=j(a),this.push(a)}.bind(this),f.onerror=function(){this.emit("error",f.error)}.bind(this),f.readAsArrayBuffer(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{buffer:5,inherits:14,stream:39}],28:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":29}],29:[function(a,b,c){"use strict";function l(a){return this instanceof l?(g.call(this,a),h.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",m)):new l(a)}function m(){this.allowHalfOpen||this._writableState.ended||e(n,this)}function n(a){a.end()}var d=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=l;var e=a("process-nextick-args"),f=a("core-util-is");f.inherits=a("inherits");var g=a("./_stream_readable"),h=a("./_stream_writable");f.inherits(l,g);for(var i=d(h.prototype),j=0;j<i.length;j++){var k=i[j];l.prototype[k]||(l.prototype[k]=h.prototype[k])}},{"./_stream_readable":31,"./_stream_writable":33,"core-util-is":7,inherits:14,"process-nextick-args":25}],30:[function(a,b,c){"use strict";function f(a){return this instanceof f?void d.call(this,a):new f(a)}b.exports=f;var d=a("./_stream_transform"),e=a("core-util-is");e.inherits=a("inherits"),e.inherits(f,d),f.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":32,"core-util-is":7,inherits:14}],31:[function(a,b,c){(function(c){"use strict";function q(a,b,c){return"function"==typeof a.prependListener?a.prependListener(b,c):void(a._events&&a._events[b]?e(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c))}function r(b,c){f=f||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof f&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(p||(p=a("string_decoder/").StringDecoder),this.decoder=new p(b.encoding),this.encoding=b.encoding)}function s(b){return f=f||a("./_stream_duplex"),this instanceof s?(this._readableState=new r(b,this),this.readable=!0,b&&"function"==typeof b.read&&(this._read=b.read),void i.call(this)):new s(b)}function t(a,b,c,d,e){var f=y(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,z(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var h=new Error("stream.unshift() after end event");a.emit("error",h)}else{var i;!b.decoder||e||d||(c=b.decoder.write(c),i=!b.objectMode&&0===c.length),e||(b.reading=!1),i||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&A(a))),C(a,b)}else e||(b.reading=!1);return u(b)}function u(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function w(a){return a>=v?a=v:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function x(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=w(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function y(a,b){var c=null;return j.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function z(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,A(a)}}function A(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(n("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?d(B,a):B(a))}function B(a){n("emit readable"),a.emit("readable"),I(a)}function C(a,b){b.readingMore||(b.readingMore=!0,d(D,a,b))}function D(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(n("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function E(a){return function(){var b=a._readableState;n("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&h(a,"data")&&(b.flowing=!0,I(a))}}function F(a){n("readable nexttick read 0"),a.read(0)}function G(a,b){b.resumeScheduled||(b.resumeScheduled=!0,d(H,a,b))}function H(a,b){b.reading||(n("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),I(a),b.flowing&&!b.reading&&a.read(0)}function I(a){var b=a._readableState;for(n("flow",b.flowing);b.flowing&&null!==a.read(););}function J(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=K(a,b.buffer,b.decoder),c}function K(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?L(a,b):M(a,b),d}function L(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(e+=g===f.length?f:f.slice(0,a),a-=g,0===a){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function M(a,b){var c=k.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),a-=g,0===a){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function N(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,d(O,b,a))}function O(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function P(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function Q(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}b.exports=s;var f,d=a("process-nextick-args"),e=a("isarray");s.ReadableState=r;var i,h=(a("events").EventEmitter,function(a,b){return a.listeners(b).length});!function(){try{i=a("stream")}catch(a){}finally{i||(i=a("events").EventEmitter)}}();var j=a("buffer").Buffer,k=a("buffer-shims"),l=a("core-util-is");l.inherits=a("inherits");var m=a("util"),n=void 0;n=m&&m.debuglog?m.debuglog("stream"):function(){};var p,o=a("./internal/streams/BufferList");l.inherits(s,i),s.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding,b!==c.encoding&&(a=k.from(a,b),b="")),t(this,c,a,b,!1)},s.prototype.unshift=function(a){var b=this._readableState;return t(this,b,a,"",!0)},s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(b){return p||(p=a("string_decoder/").StringDecoder),this._readableState.decoder=new p(b),this._readableState.encoding=b,this};var v=8388608;s.prototype.read=function(a){n("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return n("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?N(this):A(this),null;if(a=x(a,b),0===a&&b.ended)return 0===b.length&&N(this),null;var d=b.needReadable;n("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,n("length less than watermark",d)),b.ended||b.reading?(d=!1,n("reading or ended",d)):d&&(n("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=x(c,b)));var e;return e=a>0?J(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&N(this)),null!==e&&this.emit("data",e),e},s.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(a,b){function j(a){n("onunpipe"),a===e&&o()}function k(){n("onend"),a.end()}function o(){n("cleanup"),a.removeListener("close",t),a.removeListener("finish",u),a.removeListener("drain",l),a.removeListener("error",s),a.removeListener("unpipe",j),e.removeListener("end",k),e.removeListener("end",o),e.removeListener("data",r),m=!0,!f.awaitDrain||a._writableState&&!a._writableState.needDrain||l()}function r(b){n("ondata"),p=!1;var c=a.write(b);!1!==c||p||((1===f.pipesCount&&f.pipes===a||f.pipesCount>1&&Q(f.pipes,a)!==-1)&&!m&&(n("false write response, pause",e._readableState.awaitDrain),e._readableState.awaitDrain++,p=!0),e.pause())}function s(b){n("onerror",b),v(),a.removeListener("error",s),0===h(a,"error")&&a.emit("error",b)}function t(){a.removeListener("finish",u),v()}function u(){n("onfinish"),a.removeListener("close",t),v()}function v(){n("unpipe"),e.unpipe(a)}var e=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=a;break;case 1:f.pipes=[f.pipes,a];break;default:f.pipes.push(a)}f.pipesCount+=1,n("pipe count=%d opts=%j",f.pipesCount,b);var g=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,i=g?k:o;f.endEmitted?d(i):e.once("end",i),a.on("unpipe",j);var l=E(e);a.on("drain",l);var m=!1,p=!1;return e.on("data",r),q(a,"error",s),a.once("close",t),a.once("finish",u),a.emit("pipe",e),f.flowing||(n("pipe resume"),e.resume()),a},s.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;e<d;e++)c[e].emit("unpipe",this);return this}var f=Q(b.pipes,a);return f===-1?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},s.prototype.on=function(a,b){var c=i.prototype.on.call(this,a,b);if("data"===a)this._readableState.flowing!==!1&&this.resume();else if("readable"===a){var e=this._readableState;e.endEmitted||e.readableListening||(e.readableListening=e.needReadable=!0,e.emittedReadable=!1,e.reading?e.length&&A(this,e):d(F,this))}return c},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var a=this._readableState;return a.flowing||(n("resume"),a.flowing=!0,G(this,a)),this},s.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(n("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(n("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return P(f,function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){n("wrapped _read",b),c&&(c=!1,a.resume())},d},s._fromList=J}).call(this,a("_process"))},{"./_stream_duplex":29,"./internal/streams/BufferList":34,_process:26,buffer:5,"buffer-shims":4,"core-util-is":7,events:9,inherits:14,isarray:16,"process-nextick-args":25,"string_decoder/":40,util:3}],32:[function(a,b,c){"use strict";function f(a){this.afterTransform=function(b,c){return g(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function g(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function h(a){if(!(this instanceof h))return new h(a);d.call(this,a),this._transformState=new f(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){i(b,a,c)}):i(b)})}function i(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=h;var d=a("./_stream_duplex"),e=a("core-util-is");e.inherits=a("inherits"),e.inherits(h,d),h.prototype.push=function(a,b){return this._transformState.needTransform=!1,d.prototype.push.call(this,a,b)},h.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},h.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},h.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./_stream_duplex":29,"core-util-is":7,inherits:14}],33:[function(a,b,c){(function(c){"use strict";function l(){}function m(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function n(b,c){f=f||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof f&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var g=b.decodeStrings===!1;this.decodeStrings=!g,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){x(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new F(this)}function p(b){return f=f||a("./_stream_duplex"),o.call(p,this)||this instanceof f?(this._writableState=new n(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev)),void i.call(this)):new p(b)}function q(a,b){var c=new Error("write after end");a.emit("error",c),d(b,c)}function r(a,b,c,e){var f=!0,g=!1;return null===c?g=new TypeError("May not write null values to stream"):j.isBuffer(c)||"string"==typeof c||void 0===c||b.objectMode||(g=new TypeError("Invalid non-string/buffer chunk")),g&&(a.emit("error",g),d(e,g),f=!1),f}function s(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=k.from(b,c)),b}function t(a,b,c,d,e){c=s(b,c,d),j.isBuffer(c)&&(d="buffer");var f=b.objectMode?1:c.length;b.length+=f;var g=b.length<b.highWaterMark;if(g||(b.needDrain=!0),b.writing||b.corked){var h=b.lastBufferedRequest;b.lastBufferedRequest=new m(c,d,e),h?h.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else u(a,b,!1,f,c,d,e);return g}function u(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function v(a,b,c,e,f){--b.pendingcb,c?d(f,e):f(e),a._writableState.errorEmitted=!0,a.emit("error",e)}function w(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function x(a,b){var c=a._writableState,d=c.sync,f=c.writecb;if(w(c),b)v(a,c,d,b,f);else{var g=B(c);g||c.corked||c.bufferProcessing||!c.bufferedRequest||A(a,c),d?e(y,a,c,g,f):y(a,c,g,f)}}function y(a,b,c,d){c||z(a,b),b.pendingcb--,d(),D(a,b)}function z(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function A(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;u(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new F(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback,k=b.objectMode?1:h.length;if(u(a,b,!1,k,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function B(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function C(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function D(a,b){var c=B(b);return c&&(0===b.pendingcb?(C(a,b),b.finished=!0,a.emit("finish")):C(a,b)),c}function E(a,b,c){b.ending=!0,D(a,b),c&&(b.finished?d(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function F(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}b.exports=p;var f,d=a("process-nextick-args"),e=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:d;p.WritableState=n;var g=a("core-util-is");g.inherits=a("inherits");var i,h={deprecate:a("util-deprecate")};!function(){try{i=a("stream")}catch(a){}finally{i||(i=a("events").EventEmitter)}}();var j=a("buffer").Buffer,k=a("buffer-shims");g.inherits(p,i),n.prototype.getBuffer=function(){for(var b=this.bufferedRequest,c=[];b;)c.push(b),b=b.next;return c},function(){try{Object.defineProperty(n.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var o;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(a){return!!o.call(this,a)||a&&a._writableState instanceof n}})):o=function(a){return a instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(a,b,c){var d=this._writableState,e=!1;return"function"==typeof b&&(c=b,b=null),j.isBuffer(a)?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=l),d.ended?q(this,c):r(this,d,a,c)&&(d.pendingcb++,e=t(this,d,a,b,c)),e},p.prototype.cork=function(){var a=this._writableState;a.corked++},p.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||A(this,a))},p.prototype.setDefaultEncoding=function(b){if("string"==typeof b&&(b=b.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((b+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+b);return this._writableState.defaultEncoding=b,this},p.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||E(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":29,_process:26,buffer:5,"buffer-shims":4,"core-util-is":7,events:9,inherits:14,"process-nextick-args":25,"util-deprecate":41}],34:[function(a,b,c){"use strict";function f(){this.head=null,this.tail=null,this.length=0}var e=(a("buffer").Buffer,a("buffer-shims"));b.exports=f,f.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},f.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},f.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},f.prototype.clear=function(){this.head=this.tail=null,this.length=0},f.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;
return c},f.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var b=e.allocUnsafe(a>>>0),c=this.head,d=0;c;)c.data.copy(b,d),d+=c.data.length,c=c.next;return b}},{buffer:5,"buffer-shims":4}],35:[function(a,b,c){b.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":30}],36:[function(a,b,c){(function(d){var e=function(){try{return a("stream")}catch(a){}}();c=b.exports=a("./lib/_stream_readable.js"),c.Stream=e||c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js"),!d.browser&&"disable"===d.env.READABLE_STREAM&&e&&(b.exports=e)}).call(this,a("_process"))},{"./lib/_stream_duplex.js":29,"./lib/_stream_passthrough.js":30,"./lib/_stream_readable.js":31,"./lib/_stream_transform.js":32,"./lib/_stream_writable.js":33,_process:26}],37:[function(a,b,c){b.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":32}],38:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":33}],39:[function(a,b,c){function f(){d.call(this)}b.exports=f;var d=a("events").EventEmitter,e=a("inherits");e(f,d),f.Readable=a("readable-stream/readable.js"),f.Writable=a("readable-stream/writable.js"),f.Duplex=a("readable-stream/duplex.js"),f.Transform=a("readable-stream/transform.js"),f.PassThrough=a("readable-stream/passthrough.js"),f.Stream=f,f.prototype.pipe=function(a,b){function e(b){a.writable&&!1===a.write(b)&&c.pause&&c.pause()}function f(){c.readable&&c.resume&&c.resume()}function h(){g||(g=!0,a.end())}function i(){g||(g=!0,"function"==typeof a.destroy&&a.destroy())}function j(a){if(k(),0===d.listenerCount(this,"error"))throw a}function k(){c.removeListener("data",e),a.removeListener("drain",f),c.removeListener("end",h),c.removeListener("close",i),c.removeListener("error",j),a.removeListener("error",j),c.removeListener("end",k),c.removeListener("close",k),a.removeListener("close",k)}var c=this;c.on("data",e),a.on("drain",f),a._isStdio||b&&b.end===!1||(c.on("end",h),c.on("close",i));var g=!1;return c.on("error",j),a.on("error",j),c.on("end",k),c.on("close",k),a.on("close",k),a.emit("pipe",c),a}},{events:9,inherits:14,"readable-stream/duplex.js":28,"readable-stream/passthrough.js":35,"readable-stream/readable.js":36,"readable-stream/transform.js":37,"readable-stream/writable.js":38}],40:[function(a,b,c){function f(a){if(a&&!e(a))throw new Error("Unknown encoding: "+a)}function h(a){return a.toString(this.encoding)}function i(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function j(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var d=a("buffer").Buffer,e=d.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},g=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),f(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=j;break;default:return void(this.write=h)}this.charBuffer=new d(6),this.charReceived=0,this.charLength=0};g.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},g.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},g.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:5}],41:[function(a,b,c){(function(a){function c(a,b){function e(){if(!c){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),c=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var c=!1;return e}function d(b){try{if(!a.localStorage)return!1}catch(a){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],43:[function(a,b,c){b.exports=function(b){return b&&"object"==typeof b&&"function"==typeof b.copy&&"function"==typeof b.fill&&"function"==typeof b.readUInt8}},{}],44:[function(a,b,c){(function(b,d){function h(a,b){var d={seen:[],stylize:j};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),s(b)?d.showHidden=b:b&&c._extend(d,b),y(d.showHidden)&&(d.showHidden=!1),y(d.depth)&&(d.depth=2),y(d.colors)&&(d.colors=!1),y(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=i),l(d,a,d.depth)}function i(a,b){var c=h.styles[b];return c?"["+h.colors[c][0]+"m"+a+"["+h.colors[c][1]+"m":a}function j(a,b){return a}function k(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function l(a,b,d){if(a.customInspect&&b&&D(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return w(e)||(e=l(a,e,d)),e}var f=m(a,b);if(f)return f;var g=Object.keys(b),h=k(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),C(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return n(b);if(0===g.length){if(D(b)){var i=b.name?": "+b.name:"";return a.stylize("[Function"+i+"]","special")}if(z(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(B(b))return a.stylize(Date.prototype.toString.call(b),"date");if(C(b))return n(b)}var j="",s=!1,t=["{","}"];if(r(b)&&(s=!0,t=["[","]"]),D(b)){var u=b.name?": "+b.name:"";j=" [Function"+u+"]"}if(z(b)&&(j=" "+RegExp.prototype.toString.call(b)),B(b)&&(j=" "+Date.prototype.toUTCString.call(b)),C(b)&&(j=" "+n(b)),0===g.length&&(!s||0==b.length))return t[0]+j+t[1];if(d<0)return z(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var v;return v=s?o(a,b,d,h,g):g.map(function(c){return p(a,b,d,h,c,s)}),a.seen.pop(),q(v,j,t)}function m(a,b){if(y(b))return a.stylize("undefined","undefined");if(w(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return v(b)?a.stylize(""+b,"number"):s(b)?a.stylize(""+b,"boolean"):t(b)?a.stylize("null","null"):void 0}function n(a){return"["+Error.prototype.toString.call(a)+"]"}function o(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)J(b,String(g))?f.push(p(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(p(a,b,c,d,e,!0))}),f}function p(a,b,c,d,e,f){var g,h,i;if(i=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},i.get?h=i.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):i.set&&(h=a.stylize("[Setter]","special")),J(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(i.value)<0?(h=t(c)?l(a,i.value,null):l(a,i.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),y(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function q(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function r(a){return Array.isArray(a)}function s(a){return"boolean"==typeof a}function t(a){return null===a}function u(a){return null==a}function v(a){return"number"==typeof a}function w(a){return"string"==typeof a}function x(a){return"symbol"==typeof a}function y(a){return void 0===a}function z(a){return A(a)&&"[object RegExp]"===F(a)}function A(a){return"object"==typeof a&&null!==a}function B(a){return A(a)&&"[object Date]"===F(a)}function C(a){return A(a)&&("[object Error]"===F(a)||a instanceof Error)}function D(a){return"function"==typeof a}function E(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function F(a){return Object.prototype.toString.call(a)}function G(a){return a<10?"0"+a.toString(10):a.toString(10)}function I(){var a=new Date,b=[G(a.getHours()),G(a.getMinutes()),G(a.getSeconds())].join(":");return[a.getDate(),H[a.getMonth()],b].join(" ")}function J(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var e=/%[sdj%]/g;c.format=function(a){if(!w(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(h(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(e,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),i=d[c];c<f;i=d[++c])g+=t(i)||!A(i)?" "+i:" "+h(i);return g},c.deprecate=function(a,e){function g(){if(!f){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),f=!0}return a.apply(this,arguments)}if(y(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var f=!1;return g};var g,f={};c.debuglog=function(a){if(y(g)&&(g=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!f[a])if(new RegExp("\\b"+a+"\\b","i").test(g)){var d=b.pid;f[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else f[a]=function(){};return f[a]},c.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=r,c.isBoolean=s,c.isNull=t,c.isNullOrUndefined=u,c.isNumber=v,c.isString=w,c.isSymbol=x,c.isUndefined=y,c.isRegExp=z,c.isObject=A,c.isDate=B,c.isError=C,c.isFunction=D,c.isPrimitive=E,c.isBuffer=a("./support/isBuffer");var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",I(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!A(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":43,_process:26,inherits:42}],45:[function(a,b,c){function g(a,b){var c;return c=b?new e(a,b):new e(a)}var d=function(){return this}(),e=d.WebSocket||d.MozWebSocket,f=a("./version");b.exports={w3cwebsocket:e?g:null,version:f}},{"./version":46}],46:[function(a,b,c){b.exports=a("../package.json").version},{"../package.json":47}],47:[function(a,b,c){b.exports={_args:[[{raw:"websocket@^1.0.22",scope:null,escapedName:"websocket",name:"websocket",rawSpec:"^1.0.22",spec:">=1.0.22 <2.0.0",type:"range"},"/home/travis/build/watson-developer-cloud/speech-javascript-sdk"]],_from:"websocket@>=1.0.22 <2.0.0",_id:"websocket@1.0.23",_inCache:!0,_location:"/websocket",_nodeVersion:"0.10.45",_npmOperationalInternal:{host:"packages-16-east.internal.npmjs.com",tmp:"tmp/websocket-1.0.23.tgz_1463625793005_0.4532310354989022"},_npmUser:{name:"theturtle32",email:"brian@worlize.com"},_npmVersion:"2.15.1",_phantomChildren:{},_requested:{raw:"websocket@^1.0.22",scope:null,escapedName:"websocket",name:"websocket",rawSpec:"^1.0.22",spec:">=1.0.22 <2.0.0",type:"range"},_requiredBy:["/","/watson-developer-cloud"],_resolved:"https://registry.npmjs.org/websocket/-/websocket-1.0.23.tgz",_shasum:"20de8ec4a7126b09465578cd5dbb29a9c296aac6",_shrinkwrap:null,_spec:"websocket@^1.0.22",_where:"/home/travis/build/watson-developer-cloud/speech-javascript-sdk",author:{name:"Brian McKelvey",email:"brian@worlize.com",url:"https://www.worlize.com/"},browser:"lib/browser.js",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},config:{verbose:!1},contributors:[{name:"Iñaki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],dependencies:{debug:"^2.2.0",nan:"^2.3.3","typedarray-to-buffer":"^3.1.2",yaeti:"^0.0.4"},description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies:{"buffer-equal":"^0.0.1",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^1.11.2","jshint-stylish":"^1.0.2",tape:"^4.0.1"},directories:{lib:"./lib"},dist:{shasum:"20de8ec4a7126b09465578cd5dbb29a9c296aac6",tarball:"https://registry.npmjs.org/websocket/-/websocket-1.0.23.tgz"},engines:{node:">=0.8.0"},gitHead:"ba2fa7e9676c456bcfb12ad160655319af66faed",homepage:"https://github.com/theturtle32/WebSocket-Node",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license:"Apache-2.0",main:"index",maintainers:[{name:"theturtle32",email:"brian@worlize.com"}],name:"websocket",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts:{gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},version:"1.0.23"}},{}],48:[function(a,b,c){"use strict";var d={fLaC:"audio/flac",RIFF:"audio/wav",OggS:"audio/ogg; codecs=opus"};b.exports=function(b){return d[b]}},{}],49:[function(a,b,c){"use strict";function e(a){return new Promise(function(b,c){var e=new Blob([a]).slice(0,4),f=new FileReader;f.readAsText(e),f.onload=function(){var a=d(f.result);if(a)b(a);else{var e=new Error("Unable to determine content type from file header; only wav, flac, and ogg/opus are supported.");e.name="UNSUPPORTED_FORMAT",c(e)}}})}function f(a,b){var c=this.audio=new Audio;if(!c.canPlayType(b)){var d=new Error("Current browser is unable to play back "+b);throw d.name="UNSUPPORTED_FORMAT",d.contentType=b,d}c.src=URL.createObjectURL(new Blob([a],{type:b})),c.play(),this.stop=function(){c.pause(),c.currentTime=0}}function g(a){return e(a).then(function(b){return new f(a,b)})}var d=a("./content-type");b.exports=f,b.exports.getContentType=e,b.exports.playFile=g},{"./content-type":48}],50:[function(a,b,c){"use strict";function h(a){this.options=g(a,{model:"",hesitation:"…",decodeStrings:!1}),d.call(this,this.options),this.isJaCn="ja-JP"===this.options.model.substring(0,5)||"zh-CN"===this.options.model.substring(0,5),this._transform=this.options.objectMode?this.transformObject:this.transformString}var d=a("stream").Transform,e=a("util"),f=a("clone"),g=a("defaults");e.inherits(h,d);var i=/%HESITATION/g,j=/([a-z])\1{2,}/gi,k=/D_[^\s]+/g;h.prototype.clean=function(b){return b=b.replace(i,this.options.hesitation).replace(j,"").replace(k,""),this.isJaCn&&(b=b.replace(/ /g,"")),b.trim()},h.prototype.capitalize=function(b){return b.charAt(0).toUpperCase()+b.substring(1)},h.prototype.period=function(b){return b?this.options.hesitation&&b.substr(-1)===this.options.hesitation?b+" ":b+(this.isJaCn?"。":". "):" "},h.prototype.transformString=function(a,b,c){this.push(this.formatString(a.toString())),c()},h.prototype.transformObject=function(b,c,d){this.push(this.formatResult(b)),d()},h.prototype.formatString=function(a,b){return a=this.capitalize(this.clean(a)),b?a:this.period(a)},h.prototype.formatResult=function(b){return b=f(b),Array.isArray(b.results)&&b.results.forEach(function(a){a.alternatives=a.alternatives.map(function(b){return b.transcript=this.formatString(b.transcript,!a.final),b.timestamps&&(b.timestamps=b.timestamps.map(function(b,c,d){return b[0]=this.clean(b[0]),0===c&&(b[0]=this.capitalize(b[0])),c===d.length-1&&a.final&&(b[0]=this.period(b[0])),b},this).filter(function(a){return a[0]})),b},this)},this),b},h.prototype.promise=a("./to-promise"),b.exports=h},{"./to-promise":58,clone:6,defaults:8,stream:39,util:44}],51:[function(a,b,c){"use strict";b.exports=function(b){if(!b||!b.token)throw new Error("Watson SpeechToText: missing required parameter: options.token");var c={credentials:"omit",headers:{accept:"application/json"}};return fetch("https://stream.watsonplatform.net/speech-to-text/api/v1/models?watson-token="+b.token,c).then(function(a){return a.json()}).then(function(a){return a.models})}},{}],52:[function(a,b,c){(function(c){"use strict";b.exports={recognizeMicrophone:a("./recognize-microphone"),recognizeFile:a("./recognize-file"),getModels:a("./get-models"),WebAudioL16Stream:a("./webaudio-l16-stream"),RecognizeStream:a("./recognize-stream"),FilePlayer:a("./file-player"),FormatStream:a("./format-stream"),TimingStream:a("./timing-stream"),WritableElementStream:a("./writable-element-stream"),getUserMedia:a("get-user-media-promise"),MicrophoneStream:a("microphone-stream"),Buffer:c}}).call(this,a("buffer").Buffer)},{"./file-player":49,"./format-stream":50,"./get-models":51,"./recognize-file":53,"./recognize-microphone":54,"./recognize-stream":55,"./timing-stream":57,"./webaudio-l16-stream":59,"./writable-element-stream":60,buffer:5,"get-user-media-promise":12,"microphone-stream":18}],53:[function(a,b,c){"use strict";var d=a("readable-blob-stream"),e=a("./recognize-stream.js"),f=a("./file-player.js"),g=a("./format-stream.js"),h=a("./timing-stream.js"),i=a("object.assign/polyfill")(),j=a("./writable-element-stream"),k=a("./result-extractor");b.exports=function(b){if(!b||!b.token)throw new Error("WatsonSpeechToText: missing required parameter: opts.token");b.outputElement&&b.objectMode!==!1&&(b.objectMode=!0),b.extractResults&&b.objectMode!==!1&&(b.objectMode=!0),b.format=b.format!==!1,"undefined"==typeof b.smart_formatting&&(b.smart_formatting=b.format);var c=b.realtime||"undefined"==typeof b.realtime&&b.play;c&&(b.timestamps=!0);var l=i({},b);l.readableObjectMode=b.objectMode||c,delete l.objectMode;var m=new e(l),n=new d(b.data).pipe(m);if(b.format&&(n=n.pipe(new g(b))),c?(n=n.pipe(new h(b)),n.on("stop",m.stop.bind(m))):n.stop=m.stop.bind(m),b.play&&f.playFile(b.data).then(function(a){m.on("stop",a.stop.bind(a)),m.on("error",a.stop.bind(a))}).catch(function(a){n.emit("error",a)}),b.outputElement&&n.pipe(new j(b)),b.extractResults){var o=n.stop.bind(n);n=n.pipe(new k),n.stop=o}return n!==m&&m.on("error",n.emit.bind(n,"error")),n}},{"./file-player.js":49,"./format-stream.js":50,"./recognize-stream.js":55,"./result-extractor":56,"./timing-stream.js":57,"./writable-element-stream":60,"object.assign/polyfill":23,"readable-blob-stream":27}],54:[function(a,b,c){"use strict";var m,d=a("get-user-media-promise"),e=a("microphone-stream"),f=a("./recognize-stream.js"),g=a("./webaudio-l16-stream.js"),h=a("./format-stream.js"),i=a("object.assign/polyfill")(),j=a("./writable-element-stream"),k=a("stream").Writable,l=a("./result-extractor"),n=new k({write:function(a,b,c){c()},objectMode:!0,decodeStrings:!1});b.exports=function(b){if(!b||!b.token)throw new Error("WatsonSpeechToText: missing required parameter: opts.token");b.outputElement&&b.objectMode!==!1&&(b.objectMode=!0),b.extractResults&&b.objectMode!==!1&&(b.objectMode=!0),b.format=b.format!==!1,"undefined"==typeof b.smart_formatting&&(b.smart_formatting=b.format);var c=i({},b);c.readableObjectMode=b.objectMode,c["content-type"]="audio/l16;rate=16000",delete c.objectMode;var p,k=new f(c),o=b.keepMicrophone;o&&m?(m.unpipe(n),p=Promise.resolve(m)):p=d({video:!1,audio:!0}).then(function(a){var c=new e(a,{objectMode:!0,bufferSize:b.bufferSize});return o&&(m=c),Promise.resolve(c)});var q=k;return b.format&&(q=q.pipe(new h(b))),b.outputElement&&q.pipe(new j(b)),b.extractResults&&(q=q.pipe(new l)),p.catch(function(a){q.emit("error",a)}),p.then(function(a){function c(){a.unpipe(b),a.pipe(n),b.end()}var b=new g({writableObjectMode:!0});a.pipe(b).pipe(k),o?(k.on("end",c),k.on("stop",c)):(k.on("end",a.stop.bind(a)),k.on("stop",a.stop.bind(a)))}).catch(k.emit.bind(k,"error")),q!==k&&(k.on("error",q.emit.bind(q,"error")),q.stop=k.stop.bind(k)),q}},{"./format-stream.js":50,"./recognize-stream.js":55,"./result-extractor":56,"./webaudio-l16-stream.js":59,"./writable-element-stream":60,"get-user-media-promise":12,"microphone-stream":18,"object.assign/polyfill":23,stream:39}],55:[function(a,b,c){(function(c){"use strict";function m(a){function e(d){"results"!==d&&"result"!==d||(b.removeListener("newListener",e),c.nextTick(function(){b.resume()}),a.silent||console.log(new Error("Watson Speech to Text RecognizeStream: the "+d+" event is deprecated and will be removed from a future release. Please set {objectMode: true} and listen for the data event instead. Pass {silent: true} to disable this message.")))}d.call(this,a),this.options=a,this.listening=!1,this.initialized=!1,this.finished=!1;var b=this;this.on("newListener",e)}var d=a("stream").Duplex,e=a("util"),f=a("object.pick"),g=a("websocket").w3cwebsocket,h=a("./content-type"),i=a("defaults"),j=a("../util/querystring.js"),k=["continuous","inactivity_timeout","timestamps","word_confidence","content-type","interim_results","keywords","keywords_threshold","max_alternatives","word_alternatives_threshold","profanity_filter","smart_formatting","speaker_labels"],l=["customization_id","model","watson-token","X-Watson-Learning-Opt-Out"];e.inherits(m,d),m.prototype.initialize=function(){function q(a,b,c){c?c.message=a+" "+c.message:c=new Error(a),c.raw=b,o.emit("error",c)}var a=this.options;a.token&&!a["watson-token"]&&(a["watson-token"]=a.token),a.content_type&&!a["content-type"]&&(a["content-type"]=a.content_type),a["X-WDC-PL-OPT-OUT"]&&!a["X-Watson-Learning-Opt-Out"]&&(a["X-Watson-Learning-Opt-Out"]=a["X-WDC-PL-OPT-OUT"]);var b=e._extend("customization_id"in a?f(a,l):{model:"en-US_BroadbandModel"},f(a,l)),c=j.stringify(b),d=(a.url||"wss://stream.watsonplatform.net/speech-to-text/api").replace(/^http/,"ws")+"/v1/recognize?"+c,h={action:"start","content-type":"audio/wav",continuous:!0,inactivity_timeout:30,interim_results:!0,word_confidence:!1,timestamps:!1,max_alternatives:1},m={action:"start","content-type":"audio/wav",continuous:!0,inactivity_timeout:30,interim_results:!0,word_confidence:!1,timestamps:!1,max_alternatives:1},n=i(f(a,k),a.objectMode||a.readableObjectMode?m:h),o=this,p=this.socket=new g(d,null,null,a.headers,null);o.on("finish",o.finish.bind(o)),p.onerror=function(a){o.listening=!1,o.emit("error",a)},this.socket.onopen=function(){o.sendJSON(n),o.emit("connect")},this.socket.onclose=function(a){o.listening&&(o.listening=!1,o.push(null)),o.emit("close",a.code,a.reason),o.emit("connection-close",a.code,a.reason)},p.onmessage=function(b){if("string"!=typeof b.data)return q("Unexpected binary data received from server",b);var c;try{c=JSON.parse(b.data)}catch(a){return q("Invalid JSON received from service:",b,a)}c.error?q(c.error,b):"listening"===c.state?o.listening?(o.listening=!1,o.push(null),p.close()):(o.listening=!0,o.emit("listening")):a.objectMode||a.readableObjectMode?o.push(c):Array.isArray(c.results)&&c.results.forEach(function(a){a.final&&a.alternatives&&o.push(a.alternatives[0].transcript,"utf8")})},this.initialized=!0},m.prototype.sendJSON=function(b){return this.emit("send-json",b),this.socket.send(JSON.stringify(b))},m.prototype.sendData=function(b){return this.emit("send-data",b),this.socket.send(b)},m.prototype._read=function(){},m.prototype._write=function(a,b,c){var d=this;d.finished||(d.listening?(d.sendData(a),this.afterSend(c)):(this.initialized||(this.options["content-type"]||(this.options["content-type"]=m.getContentType(a)),this.initialize()),this.once("listening",function(){d.sendData(a),d.afterSend(c)})))},m.prototype.afterSend=function(b){this.socket.bufferedAmount<=(this._writableState.highWaterMark||0)?c.nextTick(b):setTimeout(this.afterSend.bind(this,b),10)},m.prototype.stop=function(){this.emit("stop"),this.finish()},m.prototype.finish=function(){if(!this.finished){this.finished=!0;var b=this,c={action:"stop"};b.socket&&b.socket.readyState===b.socket.OPEN?b.sendJSON(c):this.once("connect",function(){b.sendJSON(c)})}},m.prototype.promise=a("./to-promise"),m.getContentType=function(a){return h(a.slice(0,4).toString())},b.exports=m}).call(this,a("_process"))},{"../util/querystring.js":64,"./content-type":48,"./to-promise":58,_process:26,defaults:8,"object.pick":24,stream:39,util:44,websocket:45}],56:[function(a,b,c){"use strict";function g(a){a=a||{},a.objectMode=!0,d.call(this,a),this.options=a}var d=a("stream").Transform,e=a("util"),f=a("clone");e.inherits(g,d),g.prototype._transform=function(a,b,c){Array.isArray(a.results)?a.results.forEach(function(b){var c=f(b);c.index=a.result_index,this.push(c)},this):this.push(a),c()},g.prototype.promise=a("./to-promise"),b.exports=g},{"./to-promise":58,clone:6,stream:39,util:44}],57:[function(a,b,c){(function(c){"use strict";function h(a){this.options=g(a,{emitAt:h.START,delay:0,allowHalfOpen:!0,writableObjectMode:!0}),d.call(this,a),this.startTime=Date.now(),this.final=[],this.interim=[],this.speakerLabels=[],this.nextTick=null,this.nextSpeakerLabelsTick=null,this.sourceEnded=!1;var b=this;this.on("pipe",function(a){a.on("end",function(){b.sourceEnded=!0,b.checkForEnd()})})}function i(a){return a.speaker_labels[a.speaker_labels.length-1].to}function j(a){return a.results.some(function(a){var b=a.alternatives&&a.alternatives[0];return!(!b||(!b.transcript.trim()||b.timestamps)&&b.timestamps.length)})}var d=a("stream").Duplex,e=a("util"),f=a("clone"),g=a("defaults");e.inherits(h,d),h.START=1,h.END=2,h.prototype._write=function(a,b,d){return a instanceof c?this.emit("error",new Error("TimingStream requires the source to be in objectMode")):(Array.isArray(a.results)&&a.results.length&&this.handleResult(a),Array.isArray(a.speaker_labels)&&a.speaker_labels.length&&this.handleSpeakerLabels(a),void d())},h.prototype._read=function(){},h.prototype.cutoff=function(){return(Date.now()-this.startTime)/1e3-this.options.delay},h.prototype.withinRange=function(a,b){return a.results[0].alternatives.some(function(a){var c=a.timestamps[0];return!!c&&c[this.options.emitAt]<=b},this)},h.prototype.completelyWithinRange=function(a,b){return a.results[0].alternatives.every(function(a){var c=a.timestamps[a.timestamps.length-1];return c[this.options.emitAt]<=b},this)},d.prototype.crop=function(b,c){b=f(b);var d=b.results[0];return d.alternatives=d.alternatives.map(function(a){for(var e,b=[],d=0;d<a.timestamps.length&&(e=a.timestamps[d],e[this.options.emitAt]<=c);d++)b.push(e);return a.timestamps=b,a.transcript=b.map(function(a){return a[0]}).join(" "),a},this),d.final=!1,b},h.prototype.getCurrentResult=function(b,c){if(b.length&&this.withinRange(b[0],c)){var d=this.completelyWithinRange(b[0],c);if(this.options.objectMode||this.options.readableObjectMode)return d?b.shift():this.crop(b[0],c);if(d||this.options.emitAt===h.START)return b.shift()}},h.prototype.tick=function(){var b=this.cutoff();clearTimeout(this.nextTick);var c=this.getCurrentResult(this.final,b);return c||(c=this.getCurrentResult(this.interim,b)),c&&(this.options.objectMode||this.options.readableObjectMode?this.push(c):this.push(c.results[0].alternatives[0].transcript),c.results[0].final)?void(this.nextTick=setTimeout(this.tick.bind(this),0)):void this.scheduleNextTick(b)},h.prototype.tickSpeakerLables=function(){if(clearTimeout(this.nextSpeakerLabelsTick),i(this.speakerLabels[0])<=this.cutoff()&&this.push(this.speakerLabels.shift()),this.speakerLabels.length){var b=this.speakerLabels[0],c=this.startTime+1e3*i(b);this.nextSpeakerLabelsTick=setTimeout(this.tickSpeakerLables.bind(this,c-Date.now()))}else this.nextSpeakerLabelsTick=null,this.checkForEnd()},h.prototype.scheduleNextTick=function(b){var c=this.final[0]||this.interim[0];if(c){for(var d=c.results[0].alternatives[0].timestamps,e=0;e<d.length;e++){var f=d[e][this.options.emitAt];if(f>b){var g=this.startTime+1e3*f;return void(this.nextTick=setTimeout(this.tick.bind(this),g-Date.now()))}}throw new Error("No future words found")}this.nextTick=null,this.checkForEnd()},h.prototype.checkForEnd=function(){!this.sourceEnded||this.nextTick||this.nextSpeakerLabelsTick||(this.emit("close"),this.push(null))},h.prototype.handleResult=function(b){if(j(b))return void this.emit("error",new Error("TimingStream requires timestamps"));var c=b.results[0].result_index;b.results.forEach(function(a){for(a.alternatives.length>1&&(a.alternatives.length=1);this.interim.length&&this.interim[0].result_index<=c;)this.interim.shift();var d=f(b);b.results=[a],b.result_index=c,a.final?(this.final.push(d),this.interim=[]):this.interim.push(d),c++},this),this.tick()},h.prototype.handleSpeakerLabels=function(b){this.speakerLabels.push(b),this.tickSpeakerLables()},h.prototype.promise=a("./to-promise"),h.prototype.stop=function(){this.emit("stop"),clearTimeout(this.nextTick),clearTimeout(this.nextSpeakerLabelsTick),this.handleResult=this.handleSpeakerLabels=function(){},this.checkForEnd()},b.exports=h}).call(this,a("buffer").Buffer)},{"./to-promise":58,buffer:5,clone:6,defaults:8,stream:39,util:44}],58:[function(a,b,c){(function(a){"use strict";b.exports=function(c){return c=c||this,new Promise(function(b,d){var e=[];c.on("data",function(a){e.push(a)}).on("end",function(){b(a.isBuffer(e[0])?a.concat(e).toString():e)}).on("error",d)})}}).call(this,a("buffer").Buffer)},{buffer:5}],59:[function(a,b,c){(function(c,d){"use strict";function i(a){a=this.options=g(a,{sourceSampleRate:48e3,downsample:!0}),e.call(this,a),this.bufferUnusedSamples=[],a.objectMode||a.writableObjectMode?this._transform=this.handleFirstAudioBuffer:(this._transform=this.transformBuffer,c.nextTick(this.emitFormat.bind(this)))}var e=a("stream").Transform,f=a("util"),g=a("defaults"),h=16e3;f.inherits(i,e),i.prototype.emitFormat=function(){this.emit("format",{channels:1,bitDepth:16,sampleRate:this.options.downsample?h:this.options.sourceSampleRate,signed:!0,float:!1})},i.prototype.downsample=function(b){var f,g,c=null,d=b.length,e=this.bufferUnusedSamples.length;if(e>0){for(c=new Float32Array(e+d),f=0;f<e;++f)c[f]=this.bufferUnusedSamples[f];for(f=0;f<d;++f)c[e+f]=b[f]}else c=b;var i=[-.037935,-89024e-8,.040173,.019989,.0047792,-.058675,-.056487,-.0040653,.14527,.26927,.33913,.26927,.14527,-.0040653,-.056487,-.058675,.0047792,.019989,.040173,-89024e-8,-.037935],j=this.options.sourceSampleRate/h,k=Math.floor((c.length-i.length)/j)+1,l=new Float32Array(k);for(f=0;f+i.length-1<c.length;f++){g=Math.round(j*f);for(var m=0,n=0;n<i.length;++n)m+=c[g+n]*i[n];l[f]=m}var o=Math.round(j*f),p=c.length-o;if(p>0)for(this.bufferUnusedSamples=new Float32Array(p),f=0;f<p;++f)this.bufferUnusedSamples[f]=c[o+f];else this.bufferUnusedSamples=new Float32Array(0);return l},i.prototype.floatTo16BitPCM=function(a){for(var b=new DataView(new ArrayBuffer(2*a.length)),c=0;c<a.length;c++){
var e=a[c]<0?32768:32767;b.setInt16(2*c,a[c]*e|0,!0)}return new d(b.buffer)},i.prototype.handleFirstAudioBuffer=function(b,c,d){this.options.sourceSampleRate=b.sampleRate,this.emitFormat(),this._transform=this.transformAudioBuffer,this._transform(b,c,d)},i.prototype.transformAudioBuffer=function(a,b,c){var d=a.getChannelData(0);this.options.downsample&&(d=this.downsample(d)),this.push(this.floatTo16BitPCM(d)),c()},i.prototype.transformBuffer=function(a,b,c){var d=new Float32Array(a.buffer);this.options.downsample&&(d=this.downsample(d)),this.push(this.floatTo16BitPCM(d)),c()},b.exports=i}).call(this,a("_process"),a("buffer").Buffer)},{_process:26,buffer:5,defaults:8,stream:39,util:44}],60:[function(a,b,c){"use strict";function g(a){if(this.options=a=f(a,{decodeStrings:!1,property:null,clear:!0}),this.el="string"==typeof a.outputElement?document.querySelector(a.outputElement):a.outputElement,!this.el)throw new Error("Watson Speech to Text WritableElementStream: missing outputElement");d.call(this,a);var b={INPUT:"value",TEXTAREA:"value"};this.prop=a.property||b[this.el.nodeName]||"textContent",a.clear&&(this.el[this.prop]=""),a.objectMode?(this.finalizedText=this.el[this.prop],this._write=this.writeObject):this._write=this.writeString}var d=a("stream").Writable,e=a("util"),f=a("defaults");e.inherits(g,d),g.prototype.writeString=function(b,c,d){this.el[this.prop]+=b,d()},g.prototype.writeObject=function(b,c,d){Array.isArray(b.results)&&b.results.forEach(function(a){a.final?(this.finalizedText+=a.alternatives[0].transcript,this.el[this.prop]=this.finalizedText):this.el[this.prop]=this.finalizedText+a.alternatives[0].transcript},this),d()},b.exports=g},{defaults:8,stream:39,util:44}],61:[function(a,b,c){"use strict";b.exports=function(b){if(!b||!b.token)throw new Error("Watson TextToSpeech: missing required parameter: options.token");var c={credentials:"omit",headers:{accept:"application/json"}};return fetch("https://stream.watsonplatform.net/text-to-speech/api/v1/voices?watson-token="+b.token,c).then(function(a){return a.json()}).then(function(a){return a.voices})}},{}],62:[function(a,b,c){"use strict";c.synthesize=a("./synthesize"),c.getVoices=a("./get-voices")},{"./get-voices":61,"./synthesize":63}],63:[function(a,b,c){"use strict";var d=a("object.pick"),e=a("../util/querystring.js"),f=["voice","X-WDC-PL-OPT-OUT","text","watson-token","accept"];b.exports=function(b){if(!b||!b.token)throw new Error("Watson TextToSpeech: missing required parameter: options.token");if(b["watson-token"]=b.token,delete b.token,b.urlOnly!==!1)return"https://stream.watsonplatform.net/text-to-speech/api/v1/synthesize?"+e.stringify(d(b,f));var c=b.element||new Audio;return c.crossOrigin=!0,c.src="https://stream.watsonplatform.net/text-to-speech/api/v1/synthesize?"+e.stringify(d(b,f)),b.autoPlay!==!1&&c.play(),c}},{"../util/querystring.js":64,"object.pick":24}],64:[function(a,b,c){"use strict";c.stringify=function(b){return Object.keys(b).map(function(a){return a+"="+("watson-token"===a?b[a]:encodeURIComponent(b[a]))}).join("&")}},{}]},{},[1])(1)});